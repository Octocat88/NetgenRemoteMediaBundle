{% trans_default_domain 'ngremotemedia' %}

{% set paths = paths|default([]) %}
{% set available_variations = available_variations|default([]|json_encode) %}

<script type="text/javascript">
    NgRemoteMediaTranslations = {
        'browse_title': "{{ "ngrm.edit.vue.browse.title"|trans }}",
        'browse_image_and_documents': "{{ "ngrm.edit.vue.browse.facets.image_and_documents"|trans }}",
        'browse_video': "{{ "ngrm.edit.vue.browse.facets.video"|trans }}",
        'browse_select_folder': "{{ "ngrm.edit.vue.browse.facets.select_folder"|trans }}",
        'browse_all_folders': "{{ "ngrm.edit.vue.browse.facets.all_folders"|trans }}",
        'search': "{{ "ngrm.edit.vue.browse.facets.search"|trans }}",
        'search_by_name': "{{ "ngrm.edit.vue.browse.facets.search_by_name"|trans }}",
        'search_by_tag': "{{ "ngrm.edit.vue.browse.facets.search_by_tag"|trans }}",
        'browse_empty_folder': "{{ "ngrm.edit.vue.browse.empty_folder"|trans }}",
        'browse_empty_folder_hint': "{{ "ngrm.edit.vue.browse.empty_folder_hint"|trans }}",
        'browse_select': "{{ "ngrm.edit.vue.browse.select"|trans }}",
        'load_more': "{{ "ngrm.edit.vue.browse.load_more"|trans }}",
        'Search for media': "Search for media",
        'Load more': "Load more",
        'Upload new media': 'Upload new media',
        'No results': 'No results',
        'Alternate text': 'Alternate text',
        'Class': 'CSS class',
        'Create new folder?': 'Create new folder?',
        'Folder': 'Folder',
        'All': 'All',
        'Add tag': 'Add tag',
        'Media type': 'Media type',
        'Image': 'Image and documents',
        'Video': 'Video',
        'Loading...': 'Loading...',
        'Cancel': 'Cancel',
        'Save all': 'Save all',
        'Generate': 'Generate',
        'Caption': 'Caption',
        'by': 'by',
        'name': 'name',
        'tag': 'tag',
        'Image is to small for this version': 'Image is to small for this version',
        'close': 'Close',
        'next': 'Next 25 &gt;',
        'prev': '&lt; Previous 25'
    };

    RemoteMediaSelectedImage_{{ fieldId }} = {
        url : "{{ field_value.secure_url }}",
        type: "{{ field_value.metaData.resource_type }}",
        {% if field_value.mediaType == 'image' %}
            mediaType: "image",
        {% elseif field_value.mediaType == 'video' %}
            mediaType: "video",
        {% else %}
            mediaType: "other",
        {% endif %}
        name: "{{ field_value.resourceId }}",
        alternateText: "{{ field_value.metaData.alt_text }}",
        tags: [{% for tag in field_value.metaData.tags %}"{{ tag }}",{% endfor %}],
        size: {{ field_value.size|default(0) }},
        id: "{{ field_value.resourceId }}",
        variations: {{ field_value.variations|json_encode|raw }},
        width: {{ field_value.metaData.width|default(0) }},
        height: {{ field_value.metaData.height|default(0) }}
    };

    RemoteMediaConfig = {
        paths: {{ paths|json_encode(constant('JSON_UNESCAPED_SLASHES'))|raw }},
        availableVariations: {{ available_variations|raw }}
    }
</script>
